import{o as r,j as a,D as h,R as f,m as s,t as u,r as _,a as x,s as w,b,I as y,S,N as $,T as k,K as q,q as N,P as j,F as C,l as V,u as l,k as B}from"./entry.8ed8e3db.js";import{_ as P}from"./nuxt-link.6a51fdce.js";const R={class:"text-center"},T={class:"transform overflow-hidden bg-white p-4 shadow-sm duration-300 ease-out sm:hover:relative sm:hover:z-10 sm:hover:rotate-3 sm:hover:scale-110 sm:hover:shadow-md"},z=["src","alt"],A=s("div",{class:"gradient-hr mt-4 w-full"},null,-1),D={class:"text-right"},F={class:"font-bold text-accent2"},I={class:"text-sm"},L={__name:"ProductCard",props:{product:{type:Object,required:!0}},setup(t){return(o,c)=>{const e=P;return r(),a("div",R,[h(e,{to:`/products/${t.product.id}`},{default:f(()=>[s("div",T,[s("img",{src:`/img/snoods/${t.product.img}.jpg`,alt:`${t.product.title} thumb`,class:"h-64 min-w-full object-cover"},null,8,z),A,s("div",D,[s("h4",F,u(t.product.title),1),s("h4",I,"$"+u(t.product.price),1)])])]),_:1},8,["to"])])}}},E=()=>{const t=_([]),o=_(null);return{products:t,error:o,load:async()=>{try{const e=x(w(b,"products"),y("createdAt","desc")),d=await S(e);t.value=d.docs.map(n=>({...n.data(),id:n.id}))}catch(e){o.value=e.message}}}},H={class:"mx-auto mb-10 grid w-11/12 grid-cols-1 gap-5 sm:mb-20 sm:w-full sm:grid-cols-2 lg:grid-cols-4"},K={key:0},Q={__name:"index",async setup(t){let o,c;const e=$(),{cartVisible:d,cartSize:n}=k(e),p=q(),{products:v,error:i,load:g}=E();return[o,c]=N(()=>g()),await o,c(),p.query.cart&&!d.value&&n.value&&e.cartToggle(),j({title:"Send Snoods | Merch"}),(M,O)=>(r(),a("div",null,[s("div",H,[(r(!0),a(C,null,V(l(v),m=>(r(),a("div",{key:m},[h(L,{product:m},null,8,["product"]),l(i)?(r(),a("div",K,u(l(i)),1)):B("",!0)]))),128))])]))}};export{Q as default};
