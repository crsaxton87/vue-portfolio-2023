import{N as y,r as u,o as m,j as p,m as r,t as d,x as b,y as x,u as a,z as w,B,D as l,G as j,O as g,P as q,J as E,H as P,b as T,K as k,q as C,Q as M,R as f,k as $,E as A}from"./entry.8ed8e3db.js";import{_ as N}from"./HeroIcons.f5dd9299.js";const H={class:"mx-auto grid w-5/6 grid-rows-[1fr_2fr] justify-center sm:w-full sm:grid-cols-[1fr_2fr] sm:grid-rows-1 sm:items-center sm:gap-10"},O={class:""},V=["src","alt"],D={class:"mb-4 mt-4 flex items-center justify-between border-b-2 sm:mt-0"},R={class:"text-4xl"},U={class:"text-xl"},z=r("h3",{class:"mb-2 font-bold"},"Product description:",-1),J={class:"mb-7"},Q={class:"flex items-center justify-between"},F=r("label",null,"Quantity:",-1),G=r("span",null,"Add to cart",-1),K={__name:"ProductDetails",props:{product:{type:Object,required:!0}},setup(s){const t=y(),n=u(1),o=e=>{t.addToCart({...e,quantity:n}),j({path:"/Products",query:{cart:!0}})};return(e,i)=>(m(),p("div",null,[r("div",H,[r("div",O,[r("img",{src:`/img/snoods/${s.product.img}.jpg`,alt:`${s.product.title} image`,class:"border-gradient mx-auto max-h-96 border-8 shadow-sm sm:mx-0"},null,8,V)]),r("div",null,[r("div",D,[r("h2",R,d(s.product.title),1),r("p",U,"$"+d(s.product.price),1)]),z,r("p",J,d(s.product.description),1),r("div",Q,[r("div",null,[F,b(r("input",{"onUpdate:modelValue":i[0]||(i[0]=c=>w(n)?n.value=c:null),minlength:"1",type:"number",class:"ml-2 w-14 sm:ml-4 sm:w-20"},null,512),[[x,a(n)]])]),r("button",{class:"button flex h-10",onClick:i[1]||(i[1]=B(c=>o(s.product),["prevent"]))},[l(N,{icon:"cart",class:"mr-2"}),G])])])])]))}},I=s=>Object.fromEntries(Object.entries(s).filter(([,t])=>t!==void 0)),_=(s,t)=>(n,o)=>(q(()=>s({...I(n),...o.attrs},o)),()=>{var e,i;return t?(i=(e=o.slots).default)==null?void 0:i.call(e):null}),L={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:[String,Object,Array],contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:String,tabindex:String,title:String,translate:String},W=g({name:"Title",inheritAttrs:!1,setup:_((s,{slots:t})=>{var o,e,i;return{title:((i=(e=(o=t.default)==null?void 0:o.call(t))==null?void 0:e[0])==null?void 0:i.children)||null}})}),X=g({name:"Meta",inheritAttrs:!1,props:{...L,charset:String,content:String,httpEquiv:String,name:String,body:Boolean,renderPriority:[String,Number]},setup:_(s=>{const t={...s};return t.httpEquiv&&(t["http-equiv"]=t.httpEquiv,delete t.httpEquiv),{meta:[t]}})}),Y=g({name:"Head",inheritAttrs:!1,setup:(s,t)=>()=>{var n,o;return(o=(n=t.slots).default)==null?void 0:o.call(n)}}),Z=s=>{const t=u(null),n=u(null);return{product:t,error:n,load:async()=>{try{const e=await E(P(T,"products",s));if(!e.exists)throw new Error("That post does not exist");t.value={...e.data(),id:e.id}}catch(e){n.value=e.message}}}},tt={key:0},ot={__name:"[id]",async setup(s){let t,n;const{id:o}=k().params,{product:e,error:i,load:c}=Z(o);if([t,n]=C(()=>c()),await t,n(),!e.value)throw M({statusCode:404,statusMessage:"Product not found",fatal:!0});return(et,st)=>{const h=W,S=X,v=Y;return m(),p("div",null,[l(v,null,{default:f(()=>[l(h,null,{default:f(()=>[A("Send Snoods | "+d(a(e).title),1)]),_:1}),l(S,{name:"description",content:a(e).description},null,8,["content"])]),_:1}),l(K,{product:a(e)},null,8,["product"]),a(i)?(m(),p("div",tt,d(a(i)),1)):$("",!0)])}}};export{ot as default};
