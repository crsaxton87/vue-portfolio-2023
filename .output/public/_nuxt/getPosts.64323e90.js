import{_ as b}from"./nuxt-link.6a51fdce.js";import{_ as m}from"./TagPill.b1436896.js";import{h as x,o as a,j as n,D as g,R as y,m as l,t as _,u as h,F as p,l as d,c as f,r as u,a as v,s as k,b as S,I as $,S as q}from"./entry.8ed8e3db.js";const j={class:"border-b-2 border-gray-100 p-5 sm:mb-5"},w={class:"mt-2"},B={__name:"SinglePost",props:{post:{type:Object,required:!0}},setup(t){const s=t,o=x(()=>s.post.body.substring(0,300)+"....");return(e,c)=>{const r=b;return a(),n("div",j,[g(r,{to:`/details/${t.post.id}`},{default:y(()=>[l("h2",null,_(t.post.title),1),l("p",null,_(h(o)),1)]),_:1},8,["to"]),l("div",w,[(a(!0),n(p,null,d(t.post.tags,i=>(a(),f(m,{key:i,tag:i,class:"post-tags"},null,8,["tag"]))),128))])])}}},D={__name:"PostList",props:{posts:{type:Object,required:!0}},setup(t){return(s,o)=>(a(),n("div",null,[(a(!0),n(p,null,d(t.posts,e=>(a(),n("div",{key:e.id},[g(B,{post:e},null,8,["post"])]))),128))]))}},E=t=>{const s=u([]),o=new Set;return t.forEach(e=>{e.tags.forEach(c=>o.add(c))}),s.value=[...o],{tags:s}},L={class:"flex flex-col px-4 pb-5 text-center sm:w-2/3 sm:px-0"},N=l("h3",{class:"pb-1 pt-5"},"Tags",-1),O={class:"self-center"},F={__name:"TagCloud",props:{posts:{type:Object,required:!0}},setup(t){const s=t,{tags:o}=E(s.posts);return(e,c)=>(a(),n("div",L,[N,l("div",O,[(a(!0),n(p,null,d(h(o),r=>(a(),f(m,{key:r,tag:r,class:"mb-2 mr-1 sm:mr-0"},null,8,["tag"]))),128))])]))}},I=()=>{const t=u([]),s=u(null);return{posts:t,error:s,load:async()=>{try{const e=v(k(S,"posts"),$("createdAt","desc")),c=await q(e);t.value=c.docs.map(r=>({...r.data(),id:r.id}))}catch(e){s.value=e.message}}}};export{D as _,F as a,I as g};
