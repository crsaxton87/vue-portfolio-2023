import{N as U,r as d,o as p,j as c,m as e,x as m,y as _,u as r,z as g,B as b,t as x,F as $,U as V,v as L,V as k,D as S,E as v,G as w}from"./entry.8ed8e3db.js";const N=["onSubmit"],q={class:"mx-auto my-8 grid w-5/6 gap-4 md:w-2/3 lg:w-1/3"},C=e("button",{class:"button mb-8"},"Log In",-1),B={class:"error"},E={__name:"LoginForm",emits:["login"],setup(f,{emit:i}){const a=U(),s=d(""),t=d(""),{error:n,login:u}=V(),h=async()=>{if(await u(s.value,t.value),!n.value){const{user:y}=await L();a.setCurrentUser(y.value),a.logIn(),i("login")}};return(y,o)=>(p(),c($,null,[e("form",{onSubmit:b(h,["prevent"])},[e("div",q,[m(e("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>g(s)?s.value=l:null),type:"email",required:"",placeholder:"email"},null,512),[[_,r(s)]]),m(e("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>g(t)?t.value=l:null),type:"password",required:"",placeholder:"password"},null,512),[[_,r(t)]])]),C],40,N),e("div",B,x(r(n)),1)],64))}},F=["onSubmit"],D={class:"mx-auto my-8 grid w-5/6 gap-4 md:w-2/3 lg:w-1/3"},I=e("button",{class:"button mb-8"},"Sign Up",-1),R={class:"error"},T={__name:"SignupForm",emits:["signup"],setup(f,{emit:i}){const{error:a,signup:s}=k(),t=d(""),n=d(""),u=d(""),h=async()=>{await s(n.value,u.value,t.value),a.value||i("signup")};return(y,o)=>(p(),c($,null,[e("form",{onSubmit:b(h,["prevent"])},[e("div",D,[m(e("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>g(t)?t.value=l:null),type:"text",required:"",placeholder:"display name"},null,512),[[_,r(t)]]),m(e("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>g(n)?n.value=l:null),type:"email",required:"",placeholder:"email"},null,512),[[_,r(n)]]),m(e("input",{"onUpdate:modelValue":o[2]||(o[2]=l=>g(u)?u.value=l:null),type:"password",required:"",placeholder:"password"},null,512),[[_,r(u)]])]),I],40,F),e("div",R,x(r(a)),1)],64))}};const M={class:"container mx-auto w-5/6 text-center sm:w-full"},j=e("h1",null,"Welcome",-1),z={key:0},A=e("h2",null,"Log in to use the chat room or create blog posts",-1),G={key:1},W=e("h2",null,"Sign up to use the chat room or create blog posts",-1),J={__name:"UserEntry",setup(f){const i=d(!0),a=()=>{const s=localStorage.getItem("prevRoute");s==="Chatroom"?w("/chatroom"):s==="Create"?w("/create"):w("/")};return(s,t)=>(p(),c("div",M,[j,r(i)?(p(),c("div",z,[A,S(E,{onLogin:a}),e("p",null,[v(" No account yet? "),e("span",{class:"login-toggle",onClick:t[0]||(t[0]=n=>i.value=!1)},"Sign up"),v(" instead ")])])):(p(),c("div",G,[W,S(T,{onSignup:a}),e("p",null,[v(" Already registered? "),e("span",{class:"login-toggle",onClick:t[1]||(t[1]=n=>i.value=!0)},"Log in"),v(" instead ")])]))]))}};export{J as default};
